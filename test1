def process_received_data(receive_buffer):
    while len(receive_buffer) >= 3:  # At least 3 bytes are needed for header
        # Extract header information
        message_type = receive_buffer[0]
        message_length = int.from_bytes(receive_buffer[1:3], byteorder='big')

        if message_type == 0:  # Heartbeat message
            # Skip heartbeat message and update receive_buffer
            receive_buffer = receive_buffer[3:]
        elif len(receive_buffer) >= 3 + message_length:  # Full message received
            # Extract the complete_message without the header
            complete_message = receive_buffer[3:3 + message_length]

            # Process and parse the complete_message as needed

            # Update receive_buffer to remove processed bytes
            receive_buffer = receive_buffer[3 + message_length:]
        else:
            # Incomplete message, wait for more data to arrive
            break

    return receive_buffer
