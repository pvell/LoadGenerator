import sbe

# Step 1: Parse the schema
with open('sbe-schema.xml', 'r') as f:
    schema = sbe.Schema.parse(f)

# Step 2: Define the message ID and input message for encoding
message_id = 3
#message = schema.messages[message_id].message()

# Step 3: Set field values in the message object
obj = {
  'userId': 11,
'price': 5678.0}
# ...

# Step 4: Encoding
encoded = schema.encode(schema.messages[message_id],obj)

# Print the encoded bytes
print("Encoded message:")
print(encoded)

# Step 5: Decoding
decoded = schema.decode(encoded)

# Print the decoded message
print("Decoded message:")
print(decoded)


Traceback (most recent call last):
  File "/home/pvellanki/loadgenerator/sbe/LG.py", line 25, in <module>
    encoded = schema.encode(schema.messages[message_id],obj)
  File "/home/pvellanki/loadgenerator/myenv/lib/python3.10/site-packages/sbe/__init__.py", line 472, in encode
    _walk_fields_encode(self, message.fields, obj, fmts, vals, cursor)
  File "/home/pvellanki/loadgenerator/myenv/lib/python3.10/site-packages/sbe/__init__.py", line 717, in _walk_fields_encode
    _walk_fields_encode_composite(schema, f.type, obj[f.name], fmt, vals, cursor)
  File "/home/pvellanki/loadgenerator/myenv/lib/python3.10/site-packages/sbe/__init__.py", line 688, in _walk_fields_encode_composite
    vals.append(obj[t.name])
TypeError: 'int' object is not subscriptable
