class MyApplication(fix.Application):
    # ... (other functions)

    def toApp(self, message, sessionID):
        session_id = sessionID.toString()

        msg_type_field = fix.MsgType()
        if message.getHeader().getFieldIfSet(msg_type_field):
            msg_type = msg_type_field.getValue()
        else:
            print("Message does not have a MsgType tag (35), skipping sending.")
            return

        with open(self.get_log_file(), "a") as file:
            file.write(f"Session: {session_id}\n")
            file.write(message.toString() + '\n')
        print("sent application message", message.toString())

    # ... (other functions)




