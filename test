  def generate_message(self, message_type, session_id):

            if message_type.lower() == "logon":
                message = fix.Message()
                message.getHeader().setField(fix.BeginString(fix.BeginString_FIXT11))
                message.getHeader().setField(fix.MsgType(fix.MsgType_Logon))

                # Set other required fields for Logon message
                message.setField(fix.EncryptMethod(0))
                message.setField(fix.HeartBtInt(30))
                message.setField(fix.ResetSeqNumFlag(False))
                message.setField(fix.DefaultApplVerID("FIX.5.0SP2"))
                message.setField(fix.DefaultCstmApplVerID("1.3"))

            elif message_type.lower() == "newordersingle":


                message = fix.Message()
                message.getHeader().setField(fix.BeginString(session_id.getBeginString()))
                message.getHeader().setField(fix.MsgType(fix.MsgType_NewOrderSingle))
                message.getHeader().setField(fix.SenderCompID(session.getSessionID().getSenderCompID()))
                message.getHeader().setField(fix.TargetCompID(session.getSessionID().getTargetCompID()))

                # Set other required fields for NewOrderSingle message
                message.setField(fix.Symbol("AMD"))
                message.setField(fix.Side(fix.Side_BUY))
                message.setField(fix.OrderQty(100))
                message.setField(fix.Price(8))
                message.setField(fix.OrdType(fix.OrdType_LIMIT))
                message.setField(fix.TimeInForce(fix.TimeInForce_DAY))
                message.setField(fix.ClOrdID(self.generate_clordid()))
                message.setField(fix.HandlInst(fix.HandlInst_MANUAL_ORDER))
                message.setField(fix.SecurityID("A0040001"))
                message.setField(fix.SecurityIDSource(fix.SecurityIDSource_CUSIP))
                message.setField(fix.Account("QAX1"))
                message.setField(fix.SecurityExchange("MXOP"))

                # Create the repeating group for PartyIDs
                party_group = fix.Group(453, 448, [447, 452])
                party_group.setField(448, "QAX1")
                party_group.setField(447, "D")
                party_group.setField(452, "66")
                message.addGroup(party_group)
