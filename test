def generate_load(self):
    # Read the template file and extract message templates
    with open(self.template_file, 'r') as file:
        templates = file.readlines()

    # Generate messages based on weights
    load = []
    for template in templates:
        message_type = self.get_message_type(template)
        if message_type in self.message_weights:
            weight = self.message_weights[message_type]
            load.extend([template.strip()] * weight)

    random.shuffle(load)
    return load
